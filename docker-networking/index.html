<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.58a1ac912fb3578e570e.css">@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-191cc9f50f3b76b9617cb383f19acb7d.woff2) format("woff2"),url(/static/montserrat-latin-100-370318464551d5f25b0f0a78f374faac.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-bdeaeb79db315697bd173a55b097dc18.woff2) format("woff2"),url(/static/montserrat-latin-100italic-ecf7d49386e8f265878e735db34a7c4b.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-85d5ef9db7f2dc6979172a4a3b2c57cb.woff2) format("woff2"),url(/static/montserrat-latin-200-1fc98e126a3d152549240e6244d7e669.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-49095760a498d024fe1a85a078850df9.woff2) format("woff2"),url(/static/montserrat-latin-200italic-fe46cf8b9462c820457d3bf537e4057f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-7c3daf12b706645b5d3710f863a4da04.woff2) format("woff2"),url(/static/montserrat-latin-300-8dc95fab9cf98d02ca8d76e97d3dff60.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-f20b178ca2024a5eac8e42e6649db86c.woff2) format("woff2"),url(/static/montserrat-latin-300italic-3fe16939288856e8e828fa2661bf2354.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-bc3aa95dca08f5fee5291e34959c27bc.woff2) format("woff2"),url(/static/montserrat-latin-400-8102c4838f9e3d08dad644290a9cb701.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-5cad650422a7184467af5a4d17b264c4.woff2) format("woff2"),url(/static/montserrat-latin-400italic-d191f22af3bb50902b99ac577f81a322.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-92d16e458625f4d2c8940f6bdca0ff09.woff2) format("woff2"),url(/static/montserrat-latin-500-8b763220218ffc11c57c84ddb80e7b26.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-47bfcca6b69d6a9acca7a8bff17193e2.woff2) format("woff2"),url(/static/montserrat-latin-500italic-72c01f753c3940c0b9cb6bf2389caddf.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-6fb1b5623e528e27c18658fecf5ee0ee.woff2) format("woff2"),url(/static/montserrat-latin-600-7c839d15a6f54e7025ba8c0c4b333e8f.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-60789af1c9338ed1a9546722ec54b4f7.woff2) format("woff2"),url(/static/montserrat-latin-600italic-f3d4de8d0afb19e777c79032ce828e3d.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-39d93cf678c740f9f6b2b1cfde34bee3.woff2) format("woff2"),url(/static/montserrat-latin-700-80f10bd382f0df1cd650fec59f3c9394.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-ba136d97b14e82284dd595e257f11c47.woff2) format("woff2"),url(/static/montserrat-latin-700italic-8c98142b425630821139c24bd1698700.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-b7018be9ed6cd94da8b6675b3a468c3b.woff2) format("woff2"),url(/static/montserrat-latin-800-9a9befcf50d64f9d2d19d8b1d1984add.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-540ffdd223d1a9ad3d4e678e1a23372e.woff2) format("woff2"),url(/static/montserrat-latin-800italic-897086f99f4e1f45e6b1e9368527d0bc.woff) format("woff")}@font-face{font-family:Montserrat;font-style:normal;font-display:swap;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-58cd789700850375b834e8b6776002eb.woff2) format("woff2"),url(/static/montserrat-latin-900-26d42c9428780e545a540bbb50c84bce.woff) format("woff")}@font-face{font-family:Montserrat;font-style:italic;font-display:swap;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-451157bc8861fe54f523b3669a3def71.woff2) format("woff2"),url(/static/montserrat-latin-900italic-a8ec4957e1c24f5793305763ad9845b3.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-b1158cfcd4aacb9d8fb61625e37af46a.woff2) format("woff2"),url(/static/merriweather-latin-300-cc7de05e166e90320d7d896e0f72a19d.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-8fe52a48089d6ebe46db0b8e7cc66263.woff2) format("woff2"),url(/static/merriweather-latin-300italic-e1331f5397c2a673f9d3765138debdb5.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-8276fdb72ae8f4714d4e6eba704cc39f.woff2) format("woff2"),url(/static/merriweather-latin-400-69f09800f4f6479d06e44eba837df872.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-3a9be9ea9f7aa4af6de7307df21d9fc0.woff2) format("woff2"),url(/static/merriweather-latin-400italic-d76079ed7541a433a54f79316de086e9.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-fa534be7ffa380e39a7f6e03bf9a5e03.woff2) format("woff2"),url(/static/merriweather-latin-700-ba56ea84b8084b7ff9677f50d3cd81bd.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-1ef5edaaa20ae53ea50399884c5e48c6.woff2) format("woff2"),url(/static/merriweather-latin-700italic-534bc9e7ce93c73d73426e46acd78092.woff) format("woff")}@font-face{font-family:Merriweather;font-style:normal;font-display:swap;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-7528fb70e8a4a82c7305e72ff43ac25f.woff2) format("woff2"),url(/static/merriweather-latin-900-3799b6e2f5ed3fcccf9d7a708d7419fa.woff) format("woff")}@font-face{font-family:Merriweather;font-style:italic;font-display:swap;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-e1b4d2aaa78e12ad84aaf8a56321e4c2.woff2) format("woff2"),url(/static/merriweather-latin-900italic-2ae22f731b3424e8dbb4b37f7ca6e708.woff) format("woff")}


/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden]{display:none}:root{--maxWidth-none:"none";--maxWidth-xs:20rem;--maxWidth-sm:24rem;--maxWidth-md:28rem;--maxWidth-lg:32rem;--maxWidth-xl:36rem;--maxWidth-2xl:42rem;--maxWidth-3xl:48rem;--maxWidth-4xl:56rem;--maxWidth-full:"100%";--maxWidth-wrapper:var(--maxWidth-2xl);--spacing-px:"1px";--spacing-0:0;--spacing-1:0.25rem;--spacing-2:0.5rem;--spacing-3:0.75rem;--spacing-4:1rem;--spacing-5:1.25rem;--spacing-6:1.5rem;--spacing-8:2rem;--spacing-10:2.5rem;--spacing-12:3rem;--spacing-16:4rem;--spacing-20:5rem;--spacing-24:6rem;--spacing-32:8rem;--fontFamily-sans:Montserrat,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--fontFamily-serif:"Merriweather","Georgia",Cambria,"Times New Roman",Times,serif;--font-body:var(--fontFamily-serif);--font-heading:var(--fontFamily-sans);--fontWeight-normal:400;--fontWeight-medium:500;--fontWeight-semibold:600;--fontWeight-bold:700;--fontWeight-extrabold:800;--fontWeight-black:900;--fontSize-root:16px;--lineHeight-none:1;--lineHeight-tight:1.1;--lineHeight-normal:1.5;--lineHeight-relaxed:1.625;--fontSize-0:0.833rem;--fontSize-1:1rem;--fontSize-2:1.2rem;--fontSize-3:1.44rem;--fontSize-4:1.728rem;--fontSize-5:2.074rem;--fontSize-6:2.488rem;--fontSize-7:2.986rem;--color-primary:#005b99;--color-text:#2e353f;--color-text-light:#4f5969;--color-heading:#1a202c;--color-heading-black:#000;--color-accent:#d1dce5}*,:after,:before{box-sizing:border-box}html{line-height:var(--lineHeight-normal);font-size:var(--fontSize-root);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{font-family:var(--font-body);font-size:var(--fontSize-1);color:var(--color-text)}footer{padding:var(--spacing-6) var(--spacing-0)}hr{background:var(--color-accent);height:1px;border:0}h1,h2,h3,h4,h5,h6{font-family:var(--font-heading);margin-top:var(--spacing-12);margin-bottom:var(--spacing-6);line-height:var(--lineHeight-tight);letter-spacing:-.025em}h2,h3,h4,h5,h6{font-weight:var(--fontWeight-bold);color:var(--color-heading)}h1{font-weight:var(--fontWeight-black);font-size:var(--fontSize-6);color:var(--color-heading-black)}h2{font-size:var(--fontSize-5)}h3{font-size:var(--fontSize-4)}h4{font-size:var(--fontSize-3)}h5{font-size:var(--fontSize-2)}h6{font-size:var(--fontSize-1)}h1>a,h2>a,h3>a,h4>a,h5>a,h6>a{color:inherit;text-decoration:none}p{line-height:var(--lineHeight-relaxed);--baseline-multiplier:0.179;--x-height-multiplier:0.35;margin:var(--spacing-0) var(--spacing-0) var(--spacing-8) var(--spacing-0)}ol,p,ul{padding:var(--spacing-0)}ol,ul{margin-left:var(--spacing-0);margin-right:var(--spacing-0);margin-bottom:var(--spacing-8);list-style-position:outside;list-style-image:none}ol li,ul li{padding-left:var(--spacing-0)}li>p,ol li,ul li{margin-bottom:calc(var(--spacing-8)/2)}li :last-child{margin-bottom:var(--spacing-0)}li>ul{margin-left:var(--spacing-8);margin-top:calc(var(--spacing-8)/2)}blockquote{color:var(--color-text-light);margin-left:calc(var(--spacing-6)*-1);margin-right:var(--spacing-8);padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-6);border-left:var(--spacing-1) solid var(--color-primary);font-size:var(--fontSize-2);font-style:italic;margin-bottom:var(--spacing-8)}blockquote>:last-child{margin-bottom:var(--spacing-0)}blockquote>ol,blockquote>ul{list-style-position:inside}table{width:100%;margin-bottom:var(--spacing-8);border-collapse:collapse;border-spacing:.25rem}table thead tr th{border-bottom:1px solid var(--color-accent)}a{color:var(--color-primary)}a:focus,a:hover{text-decoration:none}.global-wrapper{margin:var(--spacing-0) auto;max-width:var(--maxWidth-wrapper);padding:var(--spacing-10) var(--spacing-5)}.global-wrapper[data-is-root-path=true] .bio{margin-bottom:var(--spacing-20)}.global-header{margin-bottom:var(--spacing-12)}.main-heading{font-size:var(--fontSize-7);margin:0}.post-list-item{margin-bottom:var(--spacing-8);margin-top:var(--spacing-8)}.post-list-item p{margin-bottom:var(--spacing-0)}.post-list-item h2{font-size:var(--fontSize-4);color:var(--color-primary);margin-bottom:var(--spacing-2);margin-top:var(--spacing-0)}.post-list-item header{margin-bottom:var(--spacing-4)}.header-link-home{font-weight:var(--fontWeight-bold);font-family:var(--font-heading);text-decoration:none;font-size:var(--fontSize-2)}.bio{display:flex;margin-bottom:var(--spacing-16)}.bio-avatar,.bio p{margin-bottom:var(--spacing-0)}.bio-avatar{margin-right:var(--spacing-4);min-width:50px;border-radius:100%}.blog-post header h1{margin:var(--spacing-0) var(--spacing-0) var(--spacing-4) var(--spacing-0)}.blog-post header p{font-size:var(--fontSize-2);font-family:var(--font-heading)}.blog-post-nav ul{margin:var(--spacing-0)}.gatsby-highlight{margin-bottom:var(--spacing-8)}@media (max-width:42rem){blockquote{padding:var(--spacing-0) var(--spacing-0) var(--spacing-0) var(--spacing-4);margin-left:var(--spacing-0)}ol,ul{list-style-position:inside}}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><meta name="generator" content="Gatsby 2.25.3"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=4a9773549091c227cd2eb82ccd9c5e3a" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=4a9773549091c227cd2eb82ccd9c5e3a"/><title data-react-helmet="true">1부. Docker 네트워킹 | Cloud Native Life</title><meta data-react-helmet="true" name="description" content="Docker는 사용 사례에 따라 다섯 가지 네트워킹 방법을 제공합니다. eth0-container Host Networking을 하는 컨테이너는 Host와 IP 주소, 네트워크 네임스페이스를 공유합니다. 이 컨테이너에서 돌아가는 서비스는 Host…"/><meta data-react-helmet="true" property="og:title" content="1부. Docker 네트워킹"/><meta data-react-helmet="true" property="og:description" content="Docker는 사용 사례에 따라 다섯 가지 네트워킹 방법을 제공합니다. eth0-container Host Networking을 하는 컨테이너는 Host와 IP 주소, 네트워크 네임스페이스를 공유합니다. 이 컨테이너에서 돌아가는 서비스는 Host…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="leta_chat"/><meta data-react-helmet="true" name="twitter:title" content="1부. Docker 네트워킹"/><meta data-react-helmet="true" name="twitter:description" content="Docker는 사용 사례에 따라 다섯 가지 네트워킹 방법을 제공합니다. eth0-container Host Networking을 하는 컨테이너는 Host와 IP 주소, 네트워크 네임스페이스를 공유합니다. 이 컨테이너에서 돌아가는 서비스는 Host…"/><link as="script" rel="preload" href="/webpack-runtime-c7749386d71051103738.js"/><link as="script" rel="preload" href="/styles-83801f3b4dd3459a4027.js"/><link as="script" rel="preload" href="/framework-58f863d6aa18c11a521f.js"/><link as="script" rel="preload" href="/app-bf620a3e03061a1f3fd3.js"/><link as="script" rel="preload" href="/2574bafaf1ddda73fcdb4b81deaf132821230c2b-5c12687c4be6b33fde9a.js"/><link as="script" rel="preload" href="/cd7d5f864fc9e15ed8adef086269b0aeff617554-67b23dfd1ec7d67dd25b.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-c6ed3956ff98fd600786.js"/><link as="fetch" rel="preload" href="/page-data/docker-networking/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2841359383.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/916993862.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="global-wrapper" data-is-root-path="false"><header class="global-header"><a class="header-link-home" href="/">Cloud Native Life</a></header><main><article class="blog-post" itemscope="" itemType="http://schema.org/Article"><header><h1 itemProp="headline">1부. Docker 네트워킹</h1><p>November 11, 2020</p><div><p1><a class="text-gray-600 block px-2 py-1 hover:underline hover:text-gray-900" href="/tags/docker">Docker</a><p2>, </p2></p1><p1><a class="text-gray-600 block px-2 py-1 hover:underline hover:text-gray-900" href="/tags/kubernetes">Kubernetes</a><p2>, </p2></p1><a class="text-gray-600 block px-2 py-1 hover:underline hover:text-gray-900" href="/tags/네트워크">네트워크</a></div><br/></header><section itemProp="articleBody"><p>Docker는 사용 사례에 따라 다섯 가지 네트워킹 방법을 제공합니다.</p>
<p><img src="https://res.cloudinary.com/dhc1es6e9/image/upload/v1605069685/blog-img/201111-eth0-container_nv8918.png" alt="eth0-container"></p>
<ul>
<li>
<p>Host Networking을 하는 컨테이너는 Host와 IP 주소, 네트워크 네임스페이스를 공유합니다. 이 컨테이너에서 돌아가는 서비스는 Host에서의 서비스와 같은 능력을 갖습니다.</p>
<p><img src="https://res.cloudinary.com/dhc1es6e9/image/upload/v1605069685/blog-img/201111-communication-between-containers_ltxucu.png" alt="communication-between-containers"></p>
</li>
<li>Bridge Networking은 Host 내의 Private Network 내의 컨테이너들끼리 이루어집니다. Host 바깥에 있는 서비스와 통신할 때에는 <strong>NAT</strong>(Network Address Translation)를 거칩니다. Bridge Networking은 따로 설정을 하지 않았을 때의 default 옵션이고요, docker0 bridge를 Docker 데몬이 생성하죠.
Docker 컨테이너가 생성될 때는 가상 이더넷 장치인 eth0가 생성되고, Host(Bridge) 내에서는 vethxxx라는 식별자를 갖습니다. 여기서도 Host 안에 있는 컨테이너들과 통신 가능하게 되고요.
밖에서는 컨테이너가 노출되지 않기 때문에, <strong>포트를 노출</strong>해 주어야 합니다. 만약 해당 컨테이너의 80번 포트를 Host의 8080번에 publish하고 싶다면, 다음과 같이 설정하세요.</li>
</ul>
<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">docker run --name nginx -p <span class="token number">8080</span>:80 nginx</code></pre></div>
<p>Docker 데몬은 Netfilter에 인바운드/아웃바운드 트래픽 규칙을 설정해서 NAT 등을 자동적으로 수행해 줍니다.</p>
<ul>
<li>Custom Bridge Network는 Bridge와 비슷하게 동작하지만, 다른 컨테이너와 명시적으로 연결된 네트워크 상에서 통신합니다. DB 등에 Bridge를 설정하여 보안 등의 이점을 취할 수 있습니다. 예를 들면 Bridge 안에서는 포트를 노출하지 않아도 됩니다. 환경 변수도 공유되고요.</li>
<li>Container-defined Network는 K8s의 Multi-container Pod와 비슷하게 동작합니다. 즉, 컨테이너끼리 네트워크를 공유하죠.</li>
<li>아니면 네트워크를 사용하지 않도록 설정합니다. 이러면 포트를 노출할 수 없어요.</li>
</ul>
<h2>컨테이너 간 통신</h2>
<p><img src="https://res.cloudinary.com/dhc1es6e9/image/upload/v1605069685/blog-img/201111-docker-bridge_ypzrnq.png" alt="docker-bridge"></p>
<ol>
<li>먼저 왼쪽 컨테이너에서의 패킷은 eth0를 통과하여 vethxxx로 유입됩니다.</li>
<li>docker0 내에서 vethxxx와 vethyyy가 연결됩니다.</li>
<li>vethyyy로 패킷이 이동합니다.</li>
<li>그리고 오른쪽 컨테이너의 eth0로 패킷이 도착합니다.</li>
</ol>
<p>이는 같은 Host(Bridge)를 공유할 때의 경우입니다. Docker에서는 모든 노드가 동일한 컨테이너 서브넷을 구성하므로, 노드 간 통신(다른 Host 간 통신)을 할 때에는 NAT 과정이 반드시 필요합니다.</p>
<h2>다른 Host 간의 통신</h2>
<p>실제 프로덕션 환경은 분산 컴퓨팅 환경에서 이루어지므로, 다른 Host 간의 통신이 대부분입니다. 이때는 보통 overlay 네트워크를 사용합니다. overlay 네트워크는 L3 네트워크 위에 가상의 L2 네트워크를 올리는 방식으로 구현되는데, 이를 잠깐 알아보겠습니다.</p>
<p><img src="https://res.cloudinary.com/dhc1es6e9/image/upload/v1605069685/blog-img/201111-communication-between-networks_trdsqg.jpg" alt="communication-between-networks"></p>
<p>L2 통신은 동일한 서브넷 Host를 가질 때 이루어집니다. 이를 <strong>LAN</strong>(Local Area Network)이라고 합니다. LAN 내부에 있는 장치들끼리 연결하기 위해서는 이들의 MAC Address를 저장하고 있는 MAC Table이 필요합니다. Docker 컨테이너들은 각각 가상의 이더넷 장치인 eth0를 갖고 있고 이들의 MAC Address가 Host의 테이블에 저장되죠. 또한 서브넷 내에서 각 장치들이 갖는 IP 주소 또한 resolve되어야 하므로 다음의 3가지 테이블이 필요합니다.</p>
<ul>
<li>Routing Table</li>
<li>ARP Table</li>
<li>MAC Table</li>
</ul>
<p>L3 통신은 LAN 바깥, 다른 서브넷을 가지는 장치 사이에서 이루어집니다. 근거리 내에 있는 VLAN들이나, 클라우드 Private Network 내에 있는 서브넷끼리 연결하죠. 따라서 서로 다른 서브넷에 속해 있는 컨테이너끼리 통신하려면, L3에서 라우터를 반드시 거쳐야 합니다. 한편 <strong>overlay 네트워크</strong>에서는 L2 네트워크끼리 라우팅을 거치지 않고 통신이 이루어집니다. Calico, Flannel, Weavenet 등이 주로 사용되는데, 이는 추후에 알아보겠습니다.</p></section><hr/><footer><div class="bio"><div class="bio-avatar gatsby-image-wrapper" style="position:relative;overflow:hidden;display:inline-block;width:50px;height:50px"><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAMEBf/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB7SDN0M5JWNLiP//EABoQAAMBAQEBAAAAAAAAAAAAAAABAgMREjH/2gAIAQEAAQUCR1MTkrvvTOaJhIVt6faZ/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAGRAAAgMBAAAAAAAAAAAAAAAAABARITEB/9oACAEBAAY/AlpHCtUU/wD/xAAcEAEAAgMBAQEAAAAAAAAAAAABACERMUFRodH/2gAIAQEAAT8h+2cF/swrESp1ZnyZHTHfkNQe9htm24KArghw1U//2gAMAwEAAgADAAAAEPg4A//EABcRAAMBAAAAAAAAAAAAAAAAAAABEBH/2gAIAQMBAT8QRgp//8QAFhEBAQEAAAAAAAAAAAAAAAAAABEB/9oACAECAQE/EIuNR//EAB8QAQEAAgIBBQAAAAAAAAAAAAERACExQVFhcZHR8P/aAAgBAQABPxDaqjSe1zuCmJePtikLRjvAmxbKVdfvTFG5wbTbEszaBZo7yBExBueM5yAl5338YekUXQZ//9k=" alt="Beryl Leta" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms;border-radius:50%"/><noscript><picture><source srcset="/static/0d9d1d25823cf5fc860b57a30a080bd6/340ed/profile-pic.jpg 1x,
/static/0d9d1d25823cf5fc860b57a30a080bd6/32ce1/profile-pic.jpg 1.5x,
/static/0d9d1d25823cf5fc860b57a30a080bd6/04d41/profile-pic.jpg 2x" /><img loading="lazy" width="50" height="50" srcset="/static/0d9d1d25823cf5fc860b57a30a080bd6/340ed/profile-pic.jpg 1x,
/static/0d9d1d25823cf5fc860b57a30a080bd6/32ce1/profile-pic.jpg 1.5x,
/static/0d9d1d25823cf5fc860b57a30a080bd6/04d41/profile-pic.jpg 2x" src="/static/0d9d1d25823cf5fc860b57a30a080bd6/340ed/profile-pic.jpg" alt="Beryl Leta" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><p>Written by <strong>Beryl Leta</strong> <!-- -->who loves heterogeneous and aesthetic things.<!-- --> <a href="https://twitter.com/leta_chat">Follow me at Twitter!</a></p></div></footer></article><nav class="blog-post-nav"><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/building-new-blog/">← <!-- -->Gatsby와 Github로 정적 블로그 운영하기</a></li><li><a rel="next" href="/new-beginnings/">New Beginnings<!-- --> →</a></li></ul></nav></main><footer>© <!-- -->2020<!-- -->, Built with<!-- --> <a href="https://www.gatsbyjs.com">Gatsby</a></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/docker-networking/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-2abad1ad49a51557bda2.js"],"app":["/app-bf620a3e03061a1f3fd3.js"],"component---src-pages-404-js":["/component---src-pages-404-js-7fee73c11edc35310f1a.js"],"component---src-pages-dev-404-page-js":["/component---src-pages-dev-404-page-js-3bc3653c4ef76da638c7.js"],"component---src-pages-index-js":["/component---src-pages-index-js-70aebecc23a2d80eaace.js"],"component---src-pages-tags-js":["/component---src-pages-tags-js-19af327f16bca08befd2.js"],"component---src-pages-using-typescript-tsx":["/component---src-pages-using-typescript-tsx-8d3cf4dec0ddec2fcdd6.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-c6ed3956ff98fd600786.js"],"component---src-templates-tags-js":["/component---src-templates-tags-js-976a3d45cf160761a5cd.js"]};/*]]>*/</script><script src="/polyfill-2abad1ad49a51557bda2.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-c6ed3956ff98fd600786.js" async=""></script><script src="/cd7d5f864fc9e15ed8adef086269b0aeff617554-67b23dfd1ec7d67dd25b.js" async=""></script><script src="/2574bafaf1ddda73fcdb4b81deaf132821230c2b-5c12687c4be6b33fde9a.js" async=""></script><script src="/app-bf620a3e03061a1f3fd3.js" async=""></script><script src="/framework-58f863d6aa18c11a521f.js" async=""></script><script src="/styles-83801f3b4dd3459a4027.js" async=""></script><script src="/webpack-runtime-c7749386d71051103738.js" async=""></script></body></html>